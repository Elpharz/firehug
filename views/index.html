<!DOCTYPE html>
<html lang="en">
<head>
  <!--
    TODO
    * Add cache manifest link in <html> (manifest attr)
  -->
  <meta charset="utf-8">
  {% block viewport %}
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scaleable=no">
  {% endblock %}

  <!-- App Name -->
  <meta name="application-name" content="{{ app.name }}">

  {% block appleMobileWebApp %}
  <!-- Apple Mobile Web App Compat -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="{{ app.name }}">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  {% endblock %}

  {% block appIcons -%}
    {% block appleTouchIcons %}
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" sizes="152x152" href="/theme/img/icons/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/theme/img/icons/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/theme/img/icons/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/theme/img/icons/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/theme/img/icons/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/theme/img/icons/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/theme/img/icons/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="57x57" href="/theme/img/icons/apple-touch-icon-57x57.png">
    {% endblock %}

    {% block favicons %}
    <!-- Favicons -->
    <link rel="icon" type="image/png" href="/theme/img/icons/favicon-196x196.png" sizes="196x196">
    <link rel="icon" type="image/png" href="/theme/img/icons/favicon-160x160.png" sizes="160x160">
    <link rel="icon" type="image/png" href="/theme/img/icons/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/theme/img/icons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/theme/img/icons/favicon-16x16.png" sizes="16x16">
    {% endblock %}

    {% block windowsTileIcons %}
    <!-- Windows Tile Definition -->
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/theme/img/icons/mstile-144x144.png">
    {% endblock %}
  {%- endblock %}


  {% block openGraph %}
  <!-- Open Graph details -->
  <meta name="og:type" content="website">
  <meta name="og:image" content="{{ app.icons[ 512 ] }}">
  <meta name="og:title" content="{{ app.name }}">
  <meta name="og:description" content="{{ app.description }}">
  {% endblock %}

  <!-- Stylesheets -->
  {% block mainCSS %}
  <link rel="stylesheet" href="/core/css/core.min.css">
  {% endblock %}
  {% block customCSS %}
  <link rel="stylesheet" href="/theme/css/main.min.css">
  {% endblock %}

  <title>{% block title %}{{ app.name }}{% endblock %}</title>
</head>
<body class="{{ 'splash' if env.SPLASH }}">
  {# add a header that persists despite views #}
  {% block appHeader %}{% endblock %}

  <!-- view target -->
  <main>
    {% block mainContents %}{% endblock %}
  </main>

  {% if env.SPLASH -%}
    {% block splash %}
    <div id="splash-screen">
      <img src="{{ app.icons[ 512 ] }}" alt="{{ app.name }}">
      <progress></progress>
    </div>
    {% endblock %}
  {%- endif %}

  {% block mainJS %}
  <script src="/vendor/jquery/dist/jquery.min.js"></script>
  <script src="/vendor/moment/min/moment.min.js"></script>
  <script src="/vendor/routie/dist/routie.min.js"></script>
  <script src="/vendor/nunjucks/browser/nunjucks-slim.min.js"></script>
  <script src="/theme/partials.js"></script>
  <script src="/core/js/core.min.js"></script>
  {% endblock %}

  {% block customJS %}{% endblock %}
</body>
</html>
